import"core-js/modules/es.promise.js";import"core-js/modules/es.object.to-string.js";function asyncGeneratorStep(e,n,t,r,a,i,o){try{var u=e[i](o),s=u.value}catch(l){return void t(l)}u.done?n(s):Promise.resolve(s).then(r,a)}function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function o(e){asyncGeneratorStep(i,r,a,o,u,"next",e)}function u(e){asyncGeneratorStep(i,r,a,o,u,"throw",e)}o(void 0)}))}}var __vite_style__=document.createElement("style");__vite_style__.innerHTML=".signin-container[data-v-7b538838]{display:flex;align-items:center;justify-content:center;padding:50px 15px}.signin-container div[data-v-7b538838]{padding:15px 0;margin:0 auto;width:100%}.title[data-v-7b538838]{font-size:24px;padding:15px 0;font-weight:500;color:#262626}.summary[data-v-7b538838]{font-size:12px;color:#6a6a6a}.signin-title[data-v-7b538838]{text-align:center}.signin-info[data-v-7b538838]{font-size:12px}div button[data-v-7b538838],div input[data-v-7b538838]{outline:0;display:flex;justify-content:center;align-items:center;padding:10px;width:100%;border-radius:5px;border:1px solid #999;font-size:14px;box-sizing:border-box}.signin-info span[data-v-7b538838]{font-weight:bolder}.signin-main[data-v-7b538838]{max-width:750px;overflow:hidden}.btn-login-register[data-v-7b538838]{background-color:#f5f5f5;opacity:.5}.btn-login-register[data-v-7b538838]:hover{opacity:1}",document.head.appendChild(__vite_style__),System.register(["./index-legacy.723dc916.js","./vendor-legacy.7cfe02ca.js"],(function(e){"use strict";var n,t,r,a,i,o,u,s,l,c,d,v,p,f,m,g,b,y,x,_,h,k,w,R,j,z;return{setters:[function(e){n=e.d,t=e.x,r=e.u,a=e.n,i=e.q,o=e.c,u=e.D,s=e.r,l=e.o,c=e.a,d=e.b,v=e.z,p=e.A,f=e.m,m=e.h,g=e.F,b=e.g,y=e.t,x=e.w,_=e.p,h=e.i,k=e.I,w=e.S,R=e.J,j=e.K,z=e.L},function(){}],execute:function(){var C=function(e){return e.match(/^[a-zA-Z][a-zA-Z0-9_]{4,15}$/)?"":"参数必须为字母开头的5-16位数字和字母组合"},E=x("data-v-7b538838");_("data-v-7b538838");var T={class:"signin-container"},G={class:"signin-main"},U={class:"signin-title"},S=d("div",null,"嘿;-) 好巧在这里遇到您.",-1),A=b(" 这里是远浅自建用来叨叨的网站, 要是您懒得注册可以直接点这里去逛逛。 "),I=d("div",{class:"signin-info"}," 直接输入登录名称开始探险叭~我们很智能哒~会自动帮你切换登录/注册 ",-1),N={class:"signin-form"},D={class:"form-account"},V={key:0},F={class:"summary"},H=b(" 注册一下不会有任何损失,甚至会变得更加 "),L=d("del",null,"沙雕",-1),M=b(" 快乐。 ");h();e("default",n({expose:[],setup:function(e){var n=t(),x=r(),_=a(),h=i(""),P=i(""),Z=i(""),q=i(!1),J=o((function(){return x.state.User.Id}));u(h,(function(e){e.trim()&&z({type:"loginName",value:e.trim()}).then((function(e){1000005===e.Result?q.value=!1:q.value=!0}))}));var K=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t,r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=C(h.value.trim()))){e.next=4;break}return n.error(t),e.abrupt("return");case 4:return e.next=6,k({type:"loginName",value:h.value.trim(),password:Z.value.trim()});case 6:if(!(null!=(r=e.sent)&&r.ErrorCode||null==r)&&r.Result){e.next=10;break}return n.error(r.ErrorCode+" "+r.ErrorMsg),e.abrupt("return");case 10:a=r.Result.Token,i=r.Result.TokenAvailableDays,w(a,i),x.dispatch(R.GET_AUTHED_USER_INFO),n.success("欢迎 "+(null==r?void 0:r.Result.UserInfo.Nickname)+" 前来观光",{onClose:function(){_.back()}});case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=C(h.value.trim()))){e.next=4;break}return n.error(t),e.abrupt("return");case 4:return e.next=6,j({type:"loginName",value:h.value.trim(),password:Z.value.trim(),nickname:P.value.trim()});case 6:e.sent.ErrorCode||n.success("注册成功,即将自动登录~ "+h.value,{onClose:function(){K()}});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return E((function(e,n){var t=s("router-link");return l(),c("div",T,[d("div",G,[d("div",U,[S,d("div",null,[d(t,{to:"/"},{default:E((function(){return[A]})),_:1})])]),I,d("div",N,[d("div",D,[v(d("input",{type:"text",name:"account",id:"account","onUpdate:modelValue":n[1]||(n[1]=function(e){return h.value=e}),placeholder:"账户登录名称,字母开头的5-16位数字和字母组合"},null,512),[[p,h.value,void 0,{trim:!0}]])]),q.value?(l(),c("div",V,[v(d("input",{type:"text",name:"nickname",id:"nickname","onUpdate:modelValue":n[2]||(n[2]=function(e){return P.value=e}),placeholder:"用户昵称"},null,512),[[p,P.value,void 0,{trim:!0}]])])):f("",!0),d("div",null,[v(d("input",{type:"password",name:"password",id:"password","onUpdate:modelValue":n[3]||(n[3]=function(e){return Z.value=e}),placeholder:"登录密码"},null,512),[[p,Z.value,void 0,{trim:!0}]])]),d("div",null,[q.value?(l(),c("button",{key:0,type:"button",class:"btn-login-register",onClick:O}," 立即注册 ")):(l(),c("button",{key:1,type:"button",class:"btn-login-register",onClick:K}," 立即登录 "))])]),d("div",F,[H,L,M,m(J)?(l(),c(g,{key:0},[b("很少有人让我心动 但你是第"+y(m(J))+"个。",1)],64)):f("",!0)])])])}))}})).__scopeId="data-v-7b538838"}}}));
