import{d as E,o as r,c as f,t as p,_ as x,u as b,v as G,L as $,j as w,r as I,k as h,w as R,a,f as y,h as s,l as A,e as M,F as P,T,G as F}from"./index.9f66ff77.js";import{_ as V}from"./index.a888f02d.js";import{S as j}from"./SimpleInfoItem.f181eadd.js";import"./time.c677e366.js";const q={class:"tips"},z=E({__name:"EmptyContent",props:{title:String},setup(d){const m=d;return(v,g)=>(r(),f("div",q,p(m.title)+"~",1))}});var H=x(z,[["__scopeId","data-v-47ffa996"]]);const J={class:"user-header-container"},K={class:"avatar-container"},O={class:"user-info-container"},Q={class:"user-info"},W={class:"nickname-op"},X={class:"nickname"},Y={class:"user-article-cotainer"},Z=E({__name:"uid",props:{uid:{required:!0,type:Number,validator:d=>!isNaN(+d)}},setup(d){const m=d,v=b(),g=G(),{data:o}=$(m.uid);watch(()=>o.value.ErrorMsg,t=>{t&&g.error(t)});const e=reactive({list:[],page:1,loading:!1,loaded:!1}),D=computed(()=>{var t;return v.User.Id===((t=o.value.Result)==null?void 0:t.Id)}),N=computed(()=>{var t;return`${(t=o.value.Result)==null?void 0:t.Nickname}\u7684\u4E2A\u4EBA\u4E2D\u5FC3`});w({title:N});const L=()=>{console.log("\u9000\u51FA\u767B\u5F55"),v.ResetUserStore(),g.success("\u9000\u51FA\u767B\u5F55\u6210\u529F~")},U=(t,n)=>{e.loading=!0,n=n||1,F({UID:t,Page:n}).then(c=>{var l,i;const u=(i=(l=c==null?void 0:c.Result)==null?void 0:l.Articles)!=null?i:[];e.page=n,e.list=u,u.length===0?e.loaded=!0:e.loaded=!1}).finally(()=>{e.loading=!1})},S=()=>{var t;e.loading=!0,F({UID:(t=o.value.Result)==null?void 0:t.Id,Page:e.page+1}).then(n=>{var u,l,i,_;if(((l=(u=n.Result)==null?void 0:u.Articles)!=null?l:[]).length===0){e.loaded=!0;return}e.page+=1,e.list=[...e.list,...(_=(i=n.Result)==null?void 0:i.Articles)!=null?_:[]]}).finally(()=>{e.loading=!1})};return onMounted(()=>{U(m.uid,1)}),(t,n)=>{const c=I("Avatar"),u=I("LoadingBall");return r(),h(V,null,{default:R(()=>{var l,i,_,k,C;return[a("main",null,[a("div",J,[a("div",K,[y(c,{size:"150px",src:(l=s(o).Result)==null?void 0:l.Avatar},null,8,["src"])]),a("div",O,[a("div",Q,[a("span",W,[a("span",X,p((i=s(o).Result)==null?void 0:i.Nickname),1)]),s(D)?(r(),f("span",{key:0,class:"op-btn",onClick:L},"\u9000\u51FA")):A("",!0)]),a("div",null,p((_=s(o).Result)==null?void 0:_.Location)+" \xB7 "+p((k=s(o).Result)==null?void 0:k.Profession),1),a("div",null,p((C=s(o).Result)==null?void 0:C.Brief),1)])]),a("div",Y,[y(T,{name:"list"},{default:R(()=>[(r(!0),f(P,null,M(s(e).list,B=>(r(),h(j,{key:B.Id,info:B},null,8,["info"]))),128))]),_:1}),s(e).list.length>0&&!s(e).loaded&&!s(e).loading?(r(),f("div",{key:0,class:"more-list",onClick:S}," \u52A0\u8F7D\u66F4\u591A ")):A("",!0),y(u,{loading:s(e).list.length>0&&s(e).loading},null,8,["loading"]),s(e).loaded?(r(),h(H,{key:1,title:"\u4E16\u754C\u7EC8\u6709\u5C3D\u5934~"})):A("",!0)])])]}),_:1})}}});var oe=x(Z,[["__scopeId","data-v-94b7b0aa"]]);export{oe as default};
