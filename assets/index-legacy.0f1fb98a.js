import"core-js/modules/es.promise.js";import"core-js/modules/es.object.to-string.js";function asyncGeneratorStep(e,n,t,r,a,i,o){try{var u=e[i](o),s=u.value}catch(c){return void t(c)}u.done?n(s):Promise.resolve(s).then(r,a)}function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var i=e.apply(n,t);function o(e){asyncGeneratorStep(i,r,a,o,u,"next",e)}function u(e){asyncGeneratorStep(i,r,a,o,u,"throw",e)}o(void 0)}))}}var __vite_style__=document.createElement("style");__vite_style__.innerHTML=".signin-container[data-v-5c01e9b3]{display:flex;align-items:center;justify-content:center;padding:50px 15px}.signin-container div[data-v-5c01e9b3]{padding:15px 0;margin:0 auto;width:100%}.title[data-v-5c01e9b3]{font-size:24px;padding:15px 0;font-weight:500;color:#262626}.summary[data-v-5c01e9b3]{font-size:12px;color:#6a6a6a}.signin-title[data-v-5c01e9b3]{text-align:center}.signin-info[data-v-5c01e9b3]{font-size:12px}div button[data-v-5c01e9b3],div input[data-v-5c01e9b3]{outline:0;display:flex;justify-content:center;align-items:center;padding:10px;width:100%;border-radius:5px;border:1px solid #999;font-size:14px;box-sizing:border-box}.signin-info span[data-v-5c01e9b3]{font-weight:bolder}.signin-main[data-v-5c01e9b3]{max-width:750px;overflow:hidden}.btn-login-register[data-v-5c01e9b3]{background-color:#f5f5f5;opacity:.5}.btn-login-register[data-v-5c01e9b3]:hover{opacity:1}",document.head.appendChild(__vite_style__),System.register(["./vendor-legacy.b2b943d4.js","./index-legacy.befaea30.js"],(function(e){"use strict";var n,t,r,a,i,o,u,s,c,l,d,v,p,f,m,g,b,y,x,h,_,k,w;return{setters:[function(e){n=e.d,t=e.g,r=e.a,a=e.b,i=e.j,o=e.O,u=e.P,s=e.h,c=e.u,l=e.F,d=e.k,v=e.l,p=e.E,f=e.G,m=e.H},function(e){g=e.c,b=e.u,y=e.b,x=e.e,h=e.f,_=e.S,k=e.A,w=e.g}],execute:function(){var j=function(e){return e.match(/^[a-zA-Z][a-zA-Z0-9_]{4,15}$/)?"":"参数必须为字母开头的5-16位数字和字母组合"},R=p();f("data-v-5c01e9b3");var E={class:"signin-container"},C={class:"signin-main"},G={class:"signin-title"},T=i("div",null,"嘿;-) 好巧在这里遇到您.",-1),z=d(" 这里是远浅自建用来叨叨的网站, 要是您懒得注册可以直接点这里去逛逛。 "),U=i("div",{class:"signin-info"}," 直接输入登录名称开始探险叭~我们很智能哒~会自动帮你切换登录/注册 ",-1),S={class:"signin-form"},A={class:"form-account"},N={key:0},I={class:"summary"},H=d(" 注册一下不会有任何损失,甚至会变得更加 "),P=i("del",null,"沙雕",-1),V=d(" 快乐。 ");m();e("default",n({expose:[],setup:function(e){var n=g(),p=b(),f=y(),m=ref(""),D=ref(""),F=ref(""),M=ref(!1),O=computed((function(){return p.state.User.Id}));watch(m,(function(e){e.trim()&&x({type:"loginName",value:e.trim()}).then((function(e){1000005===e.Result?M.value=!1:M.value=!0}))}));var Z=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t,r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=j(m.value.trim()))){e.next=4;break}return n.error(t),e.abrupt("return");case 4:return e.next=6,h({type:"loginName",value:m.value.trim(),password:F.value.trim()});case 6:if(!(null!=(r=e.sent)&&r.ErrorCode||null==r)&&r.Result){e.next=10;break}return n.error(r.ErrorCode+" "+r.ErrorMsg),e.abrupt("return");case 10:a=r.Result.Token,i=r.Result.TokenAvailableDays,_(a,i),p.dispatch(k.GET_AUTHED_USER_INFO),n.success("欢迎 "+(null==r?void 0:r.Result.UserInfo.Nickname)+" 前来观光",{onClose:function(){f.back()}});case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=j(m.value.trim()))){e.next=4;break}return n.error(t),e.abrupt("return");case 4:return e.next=6,w({type:"loginName",value:m.value.trim(),password:F.value.trim(),nickname:D.value.trim()});case 6:e.sent.ErrorCode||n.success("注册成功,即将自动登录~ "+m.value,{onClose:function(){Z()}});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return R((function(e,n){var p=t("router-link");return r(),a("div",E,[i("div",C,[i("div",G,[T,i("div",null,[i(p,{to:"/"},{default:R((function(){return[z]})),_:1})])]),U,i("div",S,[i("div",A,[o(i("input",{type:"text",name:"account",id:"account","onUpdate:modelValue":n[1]||(n[1]=function(e){return m.value=e}),placeholder:"账户登录名称,字母开头的5-16位数字和字母组合"},null,512),[[u,m.value,void 0,{trim:!0}]])]),M.value?(r(),a("div",N,[o(i("input",{type:"text",name:"nickname",id:"nickname","onUpdate:modelValue":n[2]||(n[2]=function(e){return D.value=e}),placeholder:"用户昵称"},null,512),[[u,D.value,void 0,{trim:!0}]])])):s("",!0),i("div",null,[o(i("input",{type:"password",name:"password",id:"password","onUpdate:modelValue":n[3]||(n[3]=function(e){return F.value=e}),placeholder:"登录密码"},null,512),[[u,F.value,void 0,{trim:!0}]])]),i("div",null,[M.value?(r(),a("button",{key:0,type:"button",class:"btn-login-register",onClick:L}," 立即注册 ")):(r(),a("button",{key:1,type:"button",class:"btn-login-register",onClick:Z}," 立即登录 "))])]),i("div",I,[H,P,V,c(O)?(r(),a(l,{key:0},[d("很少有人让我心动 但你是第"+v(c(O))+"个。",1)],64)):s("",!0)])])])}))}})).__scopeId="data-v-5c01e9b3"}}}));
